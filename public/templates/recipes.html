<div class="row">

  <!-- Highest Rated Recipes -->
  <div class="row">
    <h3 class="text-center">Top Rated
      <button class="btn btn-xs btn-success" ng-click="moveLeft('topRecipes')">
        <i class="chevron-left glyphicon glyphicon-chevron-left"></i>
      </button>

      <button class="btn btn-xs btn-success" ng-click="moveRight('topRecipes')">
        <i class="chevron-right glyphicon glyphicon-chevron-right"></i>
      </button>
    </h3>

    <div ng-repeat="recipe in topRecipes | 
        limitTo : getPageEnd('topRecipes') : getPageBegin('topRecipes')" 
         class="recipe-holder">
      <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">

        <a ui-sref="reciffy.recipes.show({id: recipe.id})">
          <recipe-directive recipe="recipe"></recipe-directive>
        </a>

      </div>
    </div>

  </div>

  <div class="row">
    <h3>Trending Recipes</h3>
    <div ng-repeat="recipe in trendingRecipes | limitTo : 8" class="recipe-holder">
      <div class="col-xs-6 col-sm-4 col-md-3">

        <a ui-sref="reciffy.recipes.show({id: recipe.id})">
          <recipe-directive recipe="recipe"></recipe-directive>
        </a>

      </div>
    </div>
  </div>

  <!-- New Recipes -->
  <div class="row">
    <h3>New</h3>
    
    <button class="btn btn-xs btn-success" ng-click="moveLeft('recipes')">
      <i class="chevron-left glyphicon glyphicon-chevron-left"></i>
    </button>

    <button class="btn btn-xs btn-success" ng-click="moveRight('recipes')">
      <i class="chevron-right glyphicon glyphicon-chevron-right"></i>
    </button>

    <div ng-repeat="recipe in recipes | orderObjectBy : '-created_at' | 
                   limitTo : getPageEnd('recipes') : getPageBegin('recipes')"
        class="recipe-holder">
      <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">

        <a ui-sref="reciffy.recipes.show({id: recipe.id})">
          <recipe-directive recipe="recipe"></recipe-directive>
        </a>

      </div>
    </div>
  </div>

  <div class="row">
    <h3>Saved for Later</h3>

    <button class="btn btn-xs btn-success" ng-click="moveLeft('savedRecipes')">
      <i class="chevron-left glyphicon glyphicon-chevron-left"></i>
    </button>

    <button class="btn btn-xs btn-success" ng-click="moveRight('savedRecipes')">
      <i class="chevron-right glyphicon glyphicon-chevron-right"></i>
    </button>

    <div ng-repeat="savedRecipe in savedRecipes | orderObjectBy : '-created_at' | 
                   limitTo : (page.savedRecipes * max) + max : page.savedRecipes * max"> 
      <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">

        <a ui-sref="reciffy.recipes.show({id: savedRecipe.id})">
          <recipe-directive recipe="recipes[savedRecipe.id]"></recipe-directive>
        </a>

      </div>
    </div>
  </div>

  <div class="row">
    <h3>Make Again</h3>
    <div ng-repeat="madeRecipe in madeRecipes | orderBy : '-created_at' | limitTo : 8" class="recipe-holder">
      <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">

        <a ui-sref="reciffy.recipes.show({id: madeRecipe.recipe_id})">
          <recipe-directive recipe="recipes[madeRecipe.recipe_id]"></recipe-directive>
        </a>

      </div>
    </div>
  </div>

  <div class="row">
    <h3>My Recipes</h3>
    <div ng-repeat="recipe in recipes | orderObjectBy : '-created_at' | filter : { user_id: currentUser.id } | limitTo : 8" class="recipe-holder">
      <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">

          <a ui-sref="reciffy.recipes.show({id: recipe.id})">
            <recipe-directive recipe="recipe"></recipe-directive>
          </a>

      </div>
    </div>
  </div>

  <div class="row">
    <h3>Recommended</h3>
    <div ng-repeat="rec in recs | limitTo : 8">
      <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">

        <a ui-sref="reciffy.recipes.show({id: rec})">
          <recipe-directive recipe="recipes[rec]"></recipe-directive>
        </a>

      </div>
    </div>
  </div>

  <div class="row">
    <h3>By Tag</h3>
  </div>
  <div ng-repeat="(tagName, tagGroup) in allTaggings | groupBy : 'tag.name' | limitTo : 10">
    <h4>{{ tagName }}</h4>
    <div class="row">
      <div ng-repeat="tagging in tagGroup | orderBy : '-created_at' | limitTo : 8">
        <div class="col-xs-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">

          <a ui-sref="reciffy.recipes.show({id: tagging.taggable_id})">
            <recipe-directive recipe="recipes[tagging.taggable_id]"></recipe-directive>
          </a>

        </div>
      </div>
    </div>
  </div>

</div>
